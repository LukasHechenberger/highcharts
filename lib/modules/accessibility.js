!function(e){"object"==typeof module&&module.exports?module.exports=e:e(Highcharts)}(function(e){var t=e.win,i=t.document;e.Chart.prototype.callbacks.push(function(a){function r(){var e=a.exportDivElements;if(e){for(var t=0;t<e.length;++t)"DIV"!==e[t].tagName||e[t].children&&e[t].children.length||(e[t].setAttribute("role","menuitem"),e[t].setAttribute("tabindex",-1));e[0].parentNode.setAttribute("role","menu"),e[0].parentNode.setAttribute("aria-label","Chart export")}}function n(e){return e.userOptions&&e.userOptions.description||e.axisTitle&&e.axisTitle.textStr||e.options.id||e.categories&&"categories"||"Undeclared"}function o(t){for(var i="",a=!1,r=0;r<L.length;++r)if(void 0!==t[L[r]]){a=!0;break}return a?e.each(M.concat(L),function(e){var a=t[e];void 0!==a&&(i+=(i?". ":"")+e+", "+a)}):i=(t.name||t.category||t.id||"x, "+t.x)+", "+(void 0!==t.value?t.value:t.y),t.index+1+". "+(t.description?t.description+". ":"")+i+"."}function s(e){var t=H[e.type]||H.default;return(e.name?e.name+", ":"")+(1===D.length?t[0]:"series")+" "+(e.index+1)+" of "+e.chart.series.length+(1===D.length?" with ":". "+t[0]+" with ")+(e.points.length+" "+(1===e.points.length?t[1]:t[2])+".")+(e.description||"")+(v>1&&e.yAxis?"Y axis, "+n(e.yAxis):"")+(x>1&&e.xAxis?"X axis, "+n(e.xAxis):"")}function l(e){for(var t=e.childNodes.length;t--;)e.appendChild(e.childNodes[t])}function h(t){var i=t.points&&t.points[0].graphic&&t.points[0].graphic.element,a=i&&i.parentNode;a&&(f>1&&(a.setAttribute("role","region"),a.setAttribute("tabindex","-1"),a.setAttribute("aria-label",s(t))),a.lastChild===i&&l(a)),e.each(t.points,function(e){e.graphic&&(e.graphic.element.setAttribute("role","img"),e.graphic.element.setAttribute("tabindex","-1"),e.graphic.element.setAttribute("aria-label",m.pointInfoFormatter&&m.pointInfoFormatter(e)||o(e)))})}var p,d,c,u,g=a.options,m=g.accessibility||{},b=a.series,f=b.length,x=a.xAxis.length,v=a.yAxis.length,y=i.createElementNS("http://www.w3.org/2000/svg","title"),w=i.createElementNS("http://www.w3.org/2000/svg","g"),E=a.container.getElementsByTagName("desc")[0],A=a.container.getElementsByTagName("text"),T="highcharts-title-"+a.index,C="highcharts-data-table-"+a.index,k=g.exporting&&g.exporting.csv&&g.exporting.csv.columnHeaderFormatter,N=[],P=g.title.text||"Chart",S=i.createElement("div"),I="",V=i.createElement("h3"),B=i.createElement("a"),D=[],G={boxplot:" Box plot charts are typically used to display groups of statistical data. Each data point in the chart can have up to 5 values: minimum, lower quartile, median, upper quartile and maximum. ",arearange:" Arearange charts are line charts displaying a range between a lower and higher value for each point. ",areasplinerange:" These charts are line charts displaying a range between a lower and higher value for each point. ",bubble:" Bubble charts are scatter charts where each data point also has a size value. ",columnrange:" Columnrange charts are column charts displaying a range between a lower and higher value for each point. ",errorbar:" Errorbar series are used to display the variability of the data. ",funnel:" Funnel charts are used to display reduction of data in stages. ",pyramid:" Pyramid charts consist of a single pyramid with item heights corresponding to each point value. ",waterfall:" A waterfall chart is a column chart where each column contributes towards a total end value. "},H={default:["series","data point","data point"],line:["line","data point","data points"],spline:["line","data point","data points"],area:["line","data point","data points"],areaspline:["line","data point","data points"],pie:["pie","slice","slices"],column:["column series","column","columns"],bar:["bar series","bar","bars"],scatter:["scatter series","data point","data points"],boxplot:["boxplot series","box","boxes"],arearange:["arearange series","data point","data points"],areasplinerange:["areasplinerange series","data point","data points"],bubble:["bubble series","bubble","bubbles"],columnrange:["columnrange series","column","columns"],errorbar:["errorbar series","errorbar","errorbars"],funnel:["funnel","data point","data points"],pyramid:["pyramid","data point","data points"],waterfall:["waterfall series","column","columns"]},M=["name","id","category","x","value","y"],L=["z","open","high","q3","median","q1","low","close"];if(m.enabled){if(y.textContent=P,y.id=T,E.parentNode.insertBefore(y,E),a.renderTo.setAttribute("role","region"),a.renderTo.setAttribute("aria-label",P+". Use up and down arrows to navigate."),a.exportSVGElements&&a.exportSVGElements[0]&&a.exportSVGElements[0].element){var j=a.exportSVGElements[0].element.onclick,F=a.exportSVGElements[0].element.parentNode;a.exportSVGElements[0].element.onclick=function(){j.apply(this,Array.prototype.slice.call(arguments)),r(),a.focusExportItem(0),a.isExporting=!0},a.exportSVGElements[0].element.setAttribute("role","button"),a.exportSVGElements[0].element.setAttribute("aria-label","View export menu"),w.appendChild(a.exportSVGElements[0].element),w.setAttribute("role","region"),w.setAttribute("aria-label","Chart export menu"),F.appendChild(w)}for(u=0;u<A.length;++u)A[u].setAttribute("aria-hidden","true");for(u=0;u<f;++u)D.indexOf(b[u].type)<0&&D.push(b[u].type);if(c=D.length>1?"Combination chart.":"spline"===D[0]||"area"===D[0]||"areaspline"===D[0]?"Line chart.":D[0]+" chart."+(G[D[0]]||""),1!==D.length||"pie"!==D[0]){if(x)if(p="The chart has "+x+(x>1?" X axes":" X axis")+" displaying ",x<2)p+=n(a.xAxis[0])+".";else{for(u=0;u<x-1;++u)p+=(u?", ":"")+n(a.xAxis[u]);p+=" and "+n(a.xAxis[u])+"."}if(v)if(d="The chart has "+v+(v>1?" Y axes":" Y axis")+" displaying ",v<2)d+=n(a.yAxis[0])+".";else{for(u=0;u<v-1;++u)d+=(u?", ":"")+n(a.yAxis[u]);d+=" and "+n(a.yAxis[u])+"."}}S.setAttribute("role","region"),S.setAttribute("aria-label","Chart screen reader information.");var q=b[0]&&H[b[0].type]||H.default;I='<div tabindex="0">Use regions/landmarks to skip ahead to chart'+(f>1?" and navigate between data series":"")+".</div><h3>Summary.</h3><div>"+P+(g.subtitle&&g.subtitle.text?". "+g.subtitle.text:"")+"</div><h3>Long description.</h3><div>"+(m.description||"No description available.")+"</div><h3>Structure.</h3><div>Chart type: "+(m.typeDescription||c)+"</div>"+(1===f?"<div>"+q[0]+" with "+b[0].points.length+" "+(1===b[0].points.length?q[1]:q[2])+".</div>":"")+(p?"<div>"+p+"</div>":"")+(d?"<div>"+d+"</div>":""),B.innerHTML="View as data table.",B.href="#tableId",B.setAttribute("tabindex","-1"),B.onclick=function(){a.viewData(),i.getElementById(C).focus()},V.appendChild(B),S.innerHTML=I,S.appendChild(V);var O=i.createElement("h3");O.innerHTML="Chart graphic.",a.renderTo.insertBefore(O,a.renderTo.firstChild),a.renderTo.insertBefore(S,a.renderTo.firstChild),O.style.position="absolute",O.style.left="-9999em",O.style.width="1px",O.style.height="1px",O.style.overflow="hidden",S.style.position="absolute",S.style.left="-9999em",S.style.width="1px",S.style.height="1px",S.style.overflow="hidden",e.each(b,h),e.wrap(e.Series.prototype,"drawPoints",function(e){e.apply(this,Array.prototype.slice.call(arguments,1)),h(this)}),g.exporting=e.merge(g.exporting,{csv:{columnHeaderFormatter:function(e,t,i){var a=N[N.length-1];return i>1&&(a&&a.text)!==e.name&&N.push({text:e.name,span:i}),k?k.call(this,e,t,i):i>1?t:e.name}}}),e.wrap(e.Chart.prototype,"getTable",function(e){return e.apply(this,Array.prototype.slice.call(arguments,1)).replace("<table>",'<table id="'+C+'" summary="Table representation of chart"><caption>'+P+"</caption>")}),e.wrap(e.Chart.prototype,"viewData",function(e){if(!this.insertedTable){e.apply(this,Array.prototype.slice.call(arguments,1));var t,a,r,n=i.getElementById(C),o=n.getElementsByTagName("tbody")[0],s=o.firstChild.children,l="<tr><td></td>";for(n.setAttribute("tabindex","-1"),r=0;r<o.children.length;++r)t=o.children[r].firstChild,a=i.createElement("th"),a.setAttribute("scope","row"),a.innerHTML=t.innerHTML,t.parentNode.replaceChild(a,t);for(r=0;r<s.length;++r)"TH"===s[r].tagName&&s[r].setAttribute("scope","col");if(N.length){for(r=0;r<N.length;++r)l+='<th scope="col" colspan="'+N[r].span+'">'+N[r].text+"</th>";o.insertAdjacentHTML("afterbegin",l)}}}),m.keyboardNavigation&&m.keyboardNavigation.enabled===!1||(a.renderTo.setAttribute("tabindex","0"),e.Point.prototype.highlight=function(){var e=this,t=e.series.chart;e.graphic&&e.graphic.element.focus&&e.graphic.element.focus(),e.isNull?t.tooltip.hide(0):(e.onMouseOver(),t.tooltip.refresh(e)),t.highlightedPoint=e},e.Chart.prototype.showExportMenu=function(){this.exportSVGElements[0].element.onclick(),this.focusExportItem(0)},e.Chart.prototype.focusExportItem=function(e){var t=a.exportDivElements&&a.exportDivElements[e];t&&(t.focus&&t.focus(),t.onmouseover&&t.onmouseover(),this.highlightedExportItem=e)},e.Chart.prototype.highlightAdjacentPoint=function(e){var t,i,a=this.series,r=this.highlightedPoint;return!(!a[0]||!a[0].points)&&(r?(t=a[r.series.index+(e?1:-1)],i=e?r.series.points[r.index+1]||t&&t.points[0]:r.series.points[r.index-1]||t&&t.points[t.points.length-1],void 0!==i&&(i.isNull&&this.options.accessibility.keyboardNavigation&&this.options.accessibility.keyboardNavigation.skipNullPoints?(this.highlightedPoint=i,this.highlightAdjacentPoint(e)):(i.highlight(),!0))):(a[0].points[0].highlight(),!0))},e.addEvent(a.renderTo,"keydown",function(r){function n(e){if(h[e]&&"DIV"===h[e].tagName&&(!h[e].children||!h[e].children.length))return h[e].focus&&h[e].focus(),h[g].onmouseout(),h[e].onmouseover(),a.highlightedExportItem=e,!0}function o(){for(var t=0;t<h.length;++t)e.fireEvent(h[t],"mouseleave");h[g].onmouseout(),a.highlightedExportItem=0,a.renderTo.focus(),a.isExporting=!1}var s,l,h,p,d,c=r||t.event,u=c.which||c.keyCode,g=a.highlightedExportItem,m=a.options.exporting&&a.options.exporting.enabled!==!1;if(9===u){if(a.slipNextTab&&!c.shiftKey)return void(a.slipNextTab=!1);u=c.shiftKey?37:39}if(a.slipNextTab=!1,a.isExporting)switch(h=a.exportDivElements,u){case 37:case 38:for(d=g=g||0,p=!0;d--;)if(n(d)){p=!1;break}p&&(o(),b&&b.length&&(s=b[b.length-1],s.points.length&&s.points[s.points.length-1].highlight()));break;case 39:case 40:g=g||0,p=!0;for(var f=g+1;f<h.length;++f)if(n(f)){p=!1;break}if(p)return o(),c.which=c.keyCode=9,c.shiftKey=!1,void(a.slipNextTab=!0);break;case 13:case 32:void 0!==g&&(l=i.createEvent("Events"),l.initEvent("click",!0,!1),h[g].onclick(l));break;default:return}else switch(u){case 37:case 39:if(!a.highlightAdjacentPoint(39===u)){if(39!==u||!m)return void(c.which=c.keyCode=9);a.highlightedPoint=null,a.isExporting=!0,a.showExportMenu()}break;case 38:case 40:a.highlightedPoint&&(s=b[a.highlightedPoint.series.index+(38===u?-1:1)],s&&s.points[0]?s.points[0].highlight():40===u&&m&&(a.highlightedPoint=null,a.isExporting=!0,a.showExportMenu()));break;case 13:case 32:a.highlightedPoint&&a.highlightedPoint.firePointEvent("click");break;default:return}c.preventDefault()}))}})});